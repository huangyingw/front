<div class="m-analyticsGlobalTokens_metricItem">
  <div class="m-analyticsGlobalTokensMetricItem__header">
    <h3 class="m-analyticsGlobalTokensMetricItem__label">
      <ng-container [ngSwitch]="metric.id">
        <!-- Supply -->
        <ng-template ngSwitchCase="Supply\CirculatingSupply">
          <span>Circulating supply</span>
          <m-tooltip icon="info"
            >The number of tokens circulating in the community</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Supply\MarketCap">
          <span>Market cap</span>
          <m-tooltip icon="info"
            >The circulating supply multiplied by the current market price of
            the token</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Supply\TotalSupply">
          <span>Total Supply</span>
          <m-tooltip icon="info"
            >The total number of tokens that can ever exist</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Supply\TokenHolders">
          <span>All-time token holders</span>
          <m-tooltip icon="info"
            >The total number of users who have ever held a token</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Supply\TokensRewarded">
          <span>Tokens rewarded</span>
          <m-tooltip icon="info"
            >The total number of tokens rewarded to the community</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Supply\TokensReclaimed">
          <span>Tokens reclaimed</span>
          <m-tooltip icon="info"
            >The total number of tokens reclaimed by Minds for providing
            services</m-tooltip
          >
        </ng-template>
        <!-- Transactions -->
        <ng-template ngSwitchCase="Transactions\TransactionsCount">
          <span>Transactions count</span>
          <m-tooltip icon="info"
            >The total number of token transactions in the past 24
            hours</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Transactions\TransactionsVolume">
          <span>Transactions volume</span>
          <m-tooltip icon="info"
            >The total volume of tokens exchanged in the past 24
            hours</m-tooltip
          ></ng-template
        >
        <ng-template ngSwitchCase="Transactions\TransactionsUnique">
          <span>Active token users</span>
          <m-tooltip icon="info"
            >The total number of unique users who have performed a token
            transaction in the past 24 hours</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Rewards\EngagementScore">
          <span>Engagement</span>
          <m-tooltip icon="info"
            >The total number of points generated by the community for receiving
            engagement on their posts in the past 24 hours</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Rewards\HoldingScore">
          <span>Holding</span>
          <m-tooltip icon="info"
            >The total number of points generated by the community for holding
            tokens on-chain in the past 24 hours</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Rewards\LiquidityScore">
          <span>Liquidity</span>
          <m-tooltip icon="info"
            >The total number of points generated by the community for providing
            liquidity in the past 24 hours</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Liquidity\LiquidityTradedVolume">
          <span>Traded volume (24h)</span>
          <m-tooltip icon="info"
            >Total volume traded on Uniswap in the past 24 hours</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Liquidity\LiquidityFees">
          <span>Fees (24h)</span>
          <m-tooltip icon="info"
            >Total fees earned by liquidity providers in the past 24
            hours</m-tooltip
          >
        </ng-template>
        <ng-template ngSwitchCase="Liquidity\LiquidityTotal">
          <span>Total liquidity</span>
          <m-tooltip icon="info">Total liquidity pooled on Uniswap</m-tooltip>
        </ng-template>

        <ng-template ngSwitchDefault>
          <span>{{ metric.id }}</span></ng-template
        >
      </ng-container>
    </h3>

    <div class="m-layout__spacer"></div>

    <span
      *ngIf="
        metric?.comparative?.total_diff && metric?.comparative?.total_diff != 0
      "
      class="m-analyticsGlobalTokensMetricItem__comparative"
      [class.m-analyticsGlobalTokensMetricItem__comparative--negative]="
        metric.comparative.increase === false
      "
    >
      <m-icon
        [iconId]="
          metric.comparative.increase ? 'arrow_upwards' : 'arrow_downwards'
        "
      ></m-icon>
      <span class="m-analyticsGlobalTokensMetricItemComparative__value">
        {{ metric.comparative.total_diff | number: '1.0-0' }}
      </span>

      <span class="m-analyticsGlobalTokensMetricItemComparative__pct">
        ({{
          (metric.comparative.total_diff / metric.total) * 100
            | number: '1.0-2'
        }}%)
      </span>
    </span>
  </div>

  <span class="m-analyticsGlobalTokensMetricItem__value">
    <ng-container [ngSwitch]="metric.format">
      <ng-template ngSwitchCase="token">
        <m-wallet__currencyValue
          [value]="metric.total"
          decimals="0"
        ></m-wallet__currencyValue>
      </ng-template>
      <ng-template ngSwitchCase="points">
        <m-wallet__currencyValue
          [value]="metric.total"
          currency="points"
        ></m-wallet__currencyValue>
      </ng-template>
      <ng-template ngSwitchCase="usd">
        <m-wallet__currencyValue
          [value]="metric.total"
          currency="usd"
          decimals="0"
        ></m-wallet__currencyValue>
      </ng-template>
      <ng-template ngSwitchDefault>{{
        metric.total | number: '1.0-4'
      }}</ng-template>
    </ng-container>
  </span>

  <div
    class="m-analyticsGlobalTokensMetricItem__breakdown"
    *ngIf="
      metric.id.indexOf('Liquidity\\') !== 0 &&
      metric.id.indexOf('Rewards\\') !== 0
    "
  >
    <span *ngIf="shouldShowOnchainBreakdown()">
      <label>On-chain</label>
      {{ metric.onchain | number: '1.0-0' }}
    </span>
    <span *ngIf="shouldShowOffchainBreakdown() && shouldShowOnchainBreakdown()"
      >Â·</span
    >
    <span *ngIf="shouldShowOffchainBreakdown()">
      <label>Off-chain</label>
      {{ metric.offchain | number: '1.0-0' }}
    </span>
  </div>
</div>
