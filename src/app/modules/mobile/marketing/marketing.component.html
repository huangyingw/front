<m-marketing
  class="m-aux__marketing m-aux__marketing--hasHero"
  [useFullWidth]="false"
>
  <div class="m-marketing__main">
    <div class="m-aux__hero">
      <div class="m-aux__heroInner">
        <h1>Minds Mobile App</h1>
      </div>
    </div>

    <div class="m-aux__mobile__downloadPlatform">
      <!-- ----------------------------------- -->
      <!-- Android APK -->
      <!-- ----------------------------------- -->
      <h2>
        Android - Minds APK (recommended)
      </h2>
      <div class="m-aux__mobile__downloadOption">
        <div class="m-aux__mobile__downloadButton--apk">
          <a [href]="latestRelease.href" target="_blank"
            ><img [src]="cdnAssetsUrl + 'assets/marketing/mobile-dl-button.png'"
          /></a>
        </div>
        <p>
          For the best experience, download the mobile app directly from Minds.
          All content is accessible.
        </p>
        <p><b>Before installing:</b></p>
        <ul>
          <li>Make sure you are running Android 5 (Lollipop) or higher</li>
          <li>
            Update phone settings to "Allow installation of apps from unknown
            sources"
          </li>
        </ul>
      </div>
      <!-- ----------------------------------- -->
      <!-- Google Play store -->
      <!-- ----------------------------------- -->
      <div class="m-aux__mobile__downloadOption">
        <h2>
          Android - Play Store
        </h2>
        <div class="m-aux__mobile__downloadButton--playStore">
          <a
            href="https://play.google.com/store/apps/details?id=com.minds.mobile&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"
            target="_blank"
            ><img
              alt="Get it on Google Play"
              src="https://play.google.com/intl/en_gb/badges/images/generic/en_badge_web_generic.png"
          /></a>
        </div>
        <p>
          You may also download the mobile app from the Google Play Store. Due
          to the Google Play Store terms of service, NSFW content is not
          accessible in this version.
        </p>
      </div>
    </div>
    <!-- ----------------------------------- -->
    <!-- iOS -->
    <!-- ----------------------------------- -->
    <div class="m-aux__mobile__downloadPlatform">
      <h2>
        iPhone
      </h2>
      <div class="m-aux__mobile__downloadOption">
        <div
          class="m-aux__mobile__downloadButton m-aux__mobile__downloadButton--iOS"
        >
          <a
            href="https://geo.itunes.apple.com/us/app/minds-com/id961771928?mt=8&amp;uo=6"
            target="_blank"
            ><img
              alt="iOS App"
              src="https://devimages-cdn.apple.com/app-store/marketing/guidelines/images/badge-download-on-the-app-store.svg"
          /></a>
        </div>
        <p>
          iPhone users may download the mobile app directly from the iOS App
          Store. All features of the Minds Token (wallet, boost, wire, etc) are
          not currently supported in this version. All content is accessible.
        </p>
      </div>
    </div>
    <!-- ----------------------------------- -->
    <!-- Releases -->
    <!-- ----------------------------------- -->
    <h2>
      Release History
    </h2>
    <m-loadingSpinner [inProgress]="inProgress"></m-loadingSpinner>

    <div *ngFor="let release of releases; let first = first">
      <h3>
        <ng-container *ngIf="release.latest">Latest - </ng-container>
        <ng-container *ngIf="release.unstable">Canary - </ng-container>
        {{ release.version }} -
        <a [href]="release.href" target="_blank">Download</a>
      </h3>
      <p class="m-aux__mobile__showMobile" *ngIf="first">
        (Tap and hold the download link)
      </p>

      <p *ngIf="release.unstable" class="m-aux__mobile__canaryNote">
        Disclaimer: This is a Canary version of the app targeted to test users.
        It might contain bugs or unfinished features. Use at your own risk.
      </p>

      <ul class="m-aux__mobile__changes" *ngIf="release.changelog">
        <li *ngFor="let entry of release.changelog">{{ entry }}</li>
      </ul>

      <ul class="m-aux__mobile__hashes" *ngIf="release.hashes">
        <li *ngFor="let hash of release.hashes">
          {{ hash.type | uppercase }}: {{ hash.value }}
        </li>
      </ul>
    </div>
  </div></m-marketing
>
